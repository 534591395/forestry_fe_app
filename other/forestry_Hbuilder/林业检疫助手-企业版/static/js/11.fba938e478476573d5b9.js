webpackJsonp([11],{Bicc:function(t,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=r("BO1k"),i=r.n(e),o=r("mvHQ"),c=r.n(o),s={name:"BoardCert",components:{UploadPicture:r("SJTH").a},created:function(){window.scrollTo(0,0),this.$route.params.create_time&&(this.formData=this.$route.params,this.formData.noticePic=this.$route.params.noticePic.split(","),this.formData.contractPic=this.$route.params.contractPic.split(","),this.formData.declarationPic=this.$route.params.declarationPic.split(","),this.statusObject[2].text="审核已通过，请至城厢镇林业局"+this.formData.windows+"号窗口领取",this.statusObject[3].text="审核未通过，被拒原因: "+this.formData.refuse_reason)},data:function(){return{formData:{noticePic:[""],declarationPic:[""],contractPic:[""],amount:""},errMsg:{amountErrMsg:""},statusObject:{1:{img:r("3EKw"),backgroundColor:"#01B6AF",text:"已提交，等待工作人员审核"},2:{img:r("eprD"),backgroundColor:"#01B6AF",text:""},3:{img:r("KWn/"),backgroundColor:"#FF8F3B",text:""}}}},methods:{submit:function(){var t=this;if(this.validate()){var a=JSON.parse(c()(this.formData));a.contractPic=a.contractPic.toString(),a.declarationPic=a.declarationPic.toString(),a.noticePic=a.noticePic.toString(),this.$http({url:"/cert/addBoardCert",method:"POST",data:a}).then(function(a){a&&0==a.data.code&&(t.$toast.success("添加板材类开证单成功"),window.$storage.set("hasCert",!0),window.$storage.get("isReg")?t.$router.push({name:"chooseCert"}):t.$router.push({name:"home"}))})}},handleInputBlur:function(t){""==this.formData[t]?this.errMsg[t+"ErrMsg"]="此项不能为空":this.errMsg[t+"ErrMsg"]=""},validate:function(){var t=!0;""==this.formData.amount&&(this.errMsg.amountErrMsg="此项不能为空",t=!1);var a=!0,r=!1,e=void 0;try{for(var o,c=i()(this.formData.noticePic);!(a=(o=c.next()).done);a=!0){if(""==o.value)return this.$toast("通关无纸化放行通知单不能有为空的项"),!1}}catch(t){r=!0,e=t}finally{try{!a&&c.return&&c.return()}finally{if(r)throw e}}var s=!0,n=!1,l=void 0;try{for(var u,d=i()(this.formData.declarationPic);!(s=(u=d.next()).done);s=!0){if(""==u.value)return this.$toast("中华人民共和国海关进口货物报关单不能有为空的项"),!1}}catch(t){n=!0,l=t}finally{try{!s&&d.return&&d.return()}finally{if(n)throw l}}var m=!0,f=!1,p=void 0;try{for(var v,h=i()(this.formData.contractPic);!(m=(v=h.next()).done);m=!0){if(""==v.value)return this.$toast("合同或销售证明不能有为空的项"),!1}}catch(t){f=!0,p=t}finally{try{!m&&h.return&&h.return()}finally{if(f)throw p}}return t},setNoticePictureUrl:function(t,a){this.$set(this.formData.noticePic,t,a)},setContractPictureUrl:function(t,a){this.$set(this.formData.contractPic,t,a)},setDeclarationPictureUrl:function(t,a){this.$set(this.formData.declarationPic,t,a)},goBack:function(){window.history.back()}}},n={render:function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"wood-cert"},[r("van-nav-bar",{attrs:{title:"板材类开证","left-arrow":"",fixed:""},on:{"click-left":t.goBack}}),t._v(" "),t.formData.status?r("div",{staticClass:"wood-cert-status",style:{backgroundColor:t.statusObject[t.formData.status].backgroundColor}},[r("div",{staticClass:"flex-center-y wood-cert-status-top"},[r("img",{staticClass:"wood-cert-status-top__img",attrs:{src:t.statusObject[t.formData.status].img,alt:""}}),t._v(" "),r("span",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.statusObject[t.formData.status].text))])]),t._v(" "),r("p",{staticClass:"wood-cert-status-bottom"},[t._v(t._s(t.formData.create_time))])]):t._e(),t._v(" "),r("div",{staticClass:"wood-cert-card"},[t._m(0),t._v(" "),r("div",{staticStyle:{"margin-left":"12px"}},[r("p",{staticClass:"title-pic",staticStyle:{margin:"0 0 22px 0","padding-top":"37px"}},[t._v("\n        1.通关无纸化放行通知单\n        "),t.$route.params.create_time?t._e():r("a",{staticClass:"add-btn",attrs:{href:"javascript: void(0);"},on:{click:function(a){return t.formData.noticePic.push("")}}},[t._v("+新增")]),t._v(" "),t.$route.params.create_time?t._e():r("a",{staticClass:"add-btn",attrs:{href:"javascript: void(0);"},on:{click:function(a){1==t.formData.noticePic.length?t.formData.noticePic.splice(t.formData.noticePic.length-1,0):t.formData.noticePic.splice(t.formData.noticePic.length-1,1)}}},[t._v("- 删除")])]),t._v(" "),r("van-cell-group",{staticClass:"van-hairline--bottom",staticStyle:{"padding-bottom":"26px"},attrs:{border:!1}},[r("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.formData.noticePic,function(a,e){return r("upload-picture",{key:e,staticStyle:{"margin-left":"10px","margin-bottom":"10px"},attrs:{index:e,canUpload:!t.$route.params.create_time,sPictureUrl:a,fSetPicturUrl:t.setNoticePictureUrl}})}),1)]),t._v(" "),r("p",{staticClass:"title-pic",staticStyle:{margin:"0","padding-top":"37px"}},[t._v("\n        2.中华人民共和国海关进口货物报关单\n      ")]),t._v(" "),r("div",{staticStyle:{"margin-bottom":"10px"}},[t.$route.params.create_time?t._e():r("a",{staticClass:"add-btn",attrs:{href:"javascript: void(0);"},on:{click:function(a){return t.formData.declarationPic.push("")}}},[t._v("+新增")]),t._v(" "),t.$route.params.create_time?t._e():r("a",{staticClass:"add-btn",attrs:{href:"javascript: void(0);"},on:{click:function(a){1==t.formData.declarationPic.length?t.formData.declarationPic.splice(t.formData.declarationPic.length-1,0):t.formData.declarationPic.splice(t.formData.declarationPic.length-1,1)}}},[t._v("- 删除")])]),t._v(" "),r("van-cell-group",{staticClass:"van-hairline--bottom",staticStyle:{"padding-bottom":"26px"},attrs:{border:!1}},[r("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.formData.declarationPic,function(a,e){return r("upload-picture",{key:e,staticStyle:{"margin-left":"10px","margin-bottom":"10px"},attrs:{index:e,canUpload:!t.$route.params.create_time,sPictureUrl:a,fSetPicturUrl:t.setDeclarationPictureUrl}})}),1)]),t._v(" "),r("div",{staticClass:"flex-center-y"},[r("p",{staticClass:"title-pic",staticStyle:{margin:"0 0 22px 0","padding-top":"37px"}},[t._v("\n          3.合同或销售证明\n        ")]),t._v(" "),t.$route.params.create_time?t._e():r("a",{staticClass:"add-btn",attrs:{href:"javascript: void(0);"},on:{click:function(a){return t.formData.contractPic.push("")}}},[t._v("+新增")]),t._v(" "),t.$route.params.create_time?t._e():r("a",{staticClass:"add-btn",attrs:{href:"javascript: void(0);"},on:{click:function(a){1==t.formData.contractPic.length?t.formData.contractPic.splice(t.formData.contractPic.length-1,0):t.formData.contractPic.splice(t.formData.contractPic.length-1,1)}}},[t._v("- 删除")])]),t._v(" "),r("van-cell-group",{staticClass:"van-hairline--bottom",staticStyle:{"padding-bottom":"26px"},attrs:{border:!1}},[r("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.formData.contractPic,function(a,e){return r("upload-picture",{key:e,staticStyle:{"margin-left":"10px","margin-bottom":"10px"},attrs:{index:e,canUpload:!t.$route.params.create_time,sPictureUrl:a,fSetPicturUrl:t.setContractPictureUrl}})}),1)]),t._v(" "),r("van-cell-group",{staticClass:"van-hairline--bottom",staticStyle:{padding:"20px 0"},attrs:{border:!1}},[r("van-field",{attrs:{label:"总量",placeholder:"请输入总量",required:"","error-message":t.errMsg.amountErrMsg,readonly:t.$route.params.create_time},on:{blur:function(a){return t.handleInputBlur("amount")}},model:{value:t.formData.amount,callback:function(a){t.$set(t.formData,"amount",a)},expression:"formData.amount"}},[r("span",{staticStyle:{color:"#333333"},attrs:{slot:"button"},slot:"button"},[t._v("m³")])])],1),t._v(" "),r("p",{staticClass:"wood-cert-card__tips"},[t._v("注：此次开证总量")])],1)]),t._v(" "),r("div",{staticClass:"wood-cert__btn change-button-background"},[t.$route.params.create_time?t._e():r("van-button",{attrs:{size:"large",round:"",type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"wood-cert-card__header flex-center-y"},[a("img",{staticClass:"wood-cert-card__img",attrs:{src:r("mxBT"),alt:""}}),this._v(" "),a("div",{staticClass:"wood-cert-card__title"},[this._v("板材类开证单")])])}]};var l=r("VU/8")(s,n,!1,function(t){r("wtb4")},"data-v-637362b5",null);a.default=l.exports},wtb4:function(t,a){}});
//# sourceMappingURL=11.fba938e478476573d5b9.js.map