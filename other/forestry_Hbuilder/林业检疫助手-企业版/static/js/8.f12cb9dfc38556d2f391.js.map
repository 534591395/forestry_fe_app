{"version":3,"sources":["webpack:///src/views/SetEmployee/EmployeeCard.vue","webpack:///./src/views/SetEmployee/EmployeeCard.vue?80e0","webpack:///./src/views/SetEmployee/EmployeeCard.vue","webpack:///src/views/SetEmployee/index.vue","webpack:///./src/views/SetEmployee/index.vue?c856","webpack:///./src/views/SetEmployee/index.vue"],"names":["EmployeeCard","name","components","UploadPicture","props","value","type","Object","required","index","Number","data","errMsg","nameErrMsg","usernameErrMsg","methods","handleInputBlur","inputName","console","log","stringify_default","this","validate","flag","username","socialSecurityPic","cardFrontPic","cardOppositePic","$toast","setSocialSecurityPictureUrl","sUrl","setCardFrontPictureUrl","setCardOppositePictureUrl","SetEmployee_EmployeeCard","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","$event","$emit","_v","staticStyle","margin-bottom","margin-top","border","readonly","$store","getters","oCompanyInfo","status","placeholder","left-icon","error-message","blur","model","callback","$$v","$set","expression","color","slot","display","margin-right","sPictureUrl","fSetPicturUrl","canUpload","staticRenderFns","SetEmployee","__webpack_require__","normalizeComponent","ssrContext","created","window","$storage","get","getEmployee","employee","employeeInit","_this","$http","url","method","then","res","code","JSON","parse","submit","_this2","$underscore","isEqual","$router","push","i","$refs","success","handleDelCard","length","splice","addEmployee","views_SetEmployee","$window","title","right-text","fixed","click-right","left-arrow","click-left","_l","item","key","ref","refInFor","del-card","_e","size","round","SetEmployee_Component","SetEmployee_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/8.f12cb9dfc38556d2f391.js","sourcesContent":["<style lang=\"less\" scoped>\r\n  .employee-card {\r\n    background: #FFF;\r\n    margin: 20px 10px 0 10px;\r\n    border-radius: 10px;\r\n    height: 428px;\r\n    padding: 20px 32px 64px 32px;\r\n    box-sizing: border-box;\r\n    &__icon {\r\n      color: #333333;\r\n      font-size: 16px;\r\n      position: absolute;\r\n      left: 310px;\r\n    }\r\n    &__title {\r\n      color: #333333;\r\n      font-size: 16px;\r\n      &--required {\r\n        &:after {\r\n          content: '*';\r\n          color: red;\r\n        }\r\n      }\r\n    }\r\n    &__tips {\r\n      display: block;\r\n      color: #FF8F3B;\r\n      font-size: 14px;\r\n      margin-top: 12px;\r\n    }\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <div class=\"employee-card\">\r\n    <van-icon name=\"cross\" class=\"employee-card__icon\" @click=\"$emit('del-card', index)\" />\r\n\r\n    <div>\r\n      <span class=\"employee-card__title\">个人信息</span>\r\n\r\n      <van-cell-group class=\"van-hairline--bottom\" :border=\"false\" style=\"margin-bottom: 20px;margin-top: 10px;\">\r\n        <van-field :readonly=\"$store.getters.oCompanyInfo.status === 1 || $store.getters.oCompanyInfo.status === 4\" placeholder=\"请输入业务员姓名\" left-icon=\"contact\" required v-model=\"value.name\"\r\n        :error-message=\"errMsg.nameErrMsg\" @blur=\"handleInputBlur('name')\">\r\n          <span slot=\"button\" style=\"color: transparent;\">1</span>\r\n        </van-field>\r\n      </van-cell-group>\r\n\r\n      <van-cell-group class=\"van-hairline--bottom\" :border=\"false\" style=\"margin-bottom: 20px;\">\r\n        <van-field :readonly=\"$store.getters.oCompanyInfo.status === 1 || $store.getters.oCompanyInfo.status === 4\" placeholder=\"请输入业务员手机号\" left-icon=\"phone-o\" required v-model=\"value.username\"\r\n        :error-message=\"errMsg.usernameErrMsg\" @blur=\"handleInputBlur('username')\">\r\n          <span slot=\"button\" style=\"color: transparent;\">1</span>\r\n        </van-field>\r\n      </van-cell-group>\r\n    </div>\r\n\r\n    <div>\r\n      <span class=\"employee-card__title employee-card__title--required\">附件添加</span>\r\n\r\n      <span class=\"employee-card__tips\">1.所在公司6个月社保证明（法人股东除外）</span>\r\n      <span class=\"employee-card__tips\">2.清晰的身份证正反面照片</span>\r\n\r\n      <van-cell-group :border=\"false\" style=\"margin-top: 20px;\">\r\n        <div style=\"display: flex;\">\r\n          <upload-picture style=\"margin-right: 15px;\" :sPictureUrl=\"value.socialSecurityPic\" :fSetPicturUrl=\"setSocialSecurityPictureUrl\":canUpload=\"!($store.getters.oCompanyInfo.status == 1 || $store.getters.oCompanyInfo.status == 4)\" />\r\n          <upload-picture style=\"margin-right: 15px;\" :sPictureUrl=\"value.cardFrontPic\" :fSetPicturUrl=\"setCardFrontPictureUrl\":canUpload=\"!($store.getters.oCompanyInfo.status == 1 || $store.getters.oCompanyInfo.status == 4)\" />\r\n          <upload-picture :sPictureUrl=\"value.cardOppositePic\" :fSetPicturUrl=\"setCardOppositePictureUrl\":canUpload=\"!($store.getters.oCompanyInfo.status == 1 || $store.getters.oCompanyInfo.status == 4)\" />\r\n        </div>\r\n      </van-cell-group>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UploadPicture from '../../components/UploadPicture';\r\n\r\nexport default {\r\n  name: 'EmployeeCard',\r\n  components: {\r\n    UploadPicture\r\n  },\r\n  props: {\r\n    value: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    index: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      errMsg: {\r\n        nameErrMsg: '',\r\n        usernameErrMsg: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleInputBlur(inputName) {\r\n      console.log(JSON.stringify(this.value));\r\n      if(this.value[inputName] == '') {\r\n        this.errMsg[inputName + 'ErrMsg'] = '此项不能为空';\r\n      }\r\n      else {\r\n        this.errMsg[inputName + 'ErrMsg'] = '';\r\n      }\r\n    },\r\n    validate() {\r\n      let flag = true;\r\n      if(this.value.name == '') {\r\n        this.errMsg.nameErrMsg = '此项不能为空';\r\n        flag = false;\r\n      }\r\n      if(this.value.username == '') {\r\n        this.errMsg.usernameErrMsg = '此项不能为空';\r\n        flag = false;\r\n      }\r\n      if(!flag) {\r\n        return flag;\r\n      }\r\n\r\n      if(this.value.socialSecurityPic == '') {\r\n        flag = false;\r\n      }\r\n      if(this.value.cardFrontPic == '') {\r\n        flag = false;\r\n      }\r\n      if(this.value.cardOppositePic == '') {\r\n        flag = false;\r\n      }\r\n      if(!flag) {\r\n        this.$toast('请提交社保证明和身份证正反面照片');\r\n        return flag;\r\n      }\r\n\r\n      return flag;\r\n    },\r\n    setSocialSecurityPictureUrl(sUrl) {\r\n      this.value.socialSecurityPic = sUrl;\r\n    },\r\n    setCardFrontPictureUrl(sUrl) {\r\n      this.value.cardFrontPic = sUrl;\r\n    },\r\n    setCardOppositePictureUrl(sUrl) {\r\n      this.value.cardOppositePic = sUrl;\r\n    }\r\n  }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/SetEmployee/EmployeeCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"employee-card\"},[_c('van-icon',{staticClass:\"employee-card__icon\",attrs:{\"name\":\"cross\"},on:{\"click\":function($event){return _vm.$emit('del-card', _vm.index)}}}),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"employee-card__title\"},[_vm._v(\"个人信息\")]),_vm._v(\" \"),_c('van-cell-group',{staticClass:\"van-hairline--bottom\",staticStyle:{\"margin-bottom\":\"20px\",\"margin-top\":\"10px\"},attrs:{\"border\":false}},[_c('van-field',{attrs:{\"readonly\":_vm.$store.getters.oCompanyInfo.status === 1 || _vm.$store.getters.oCompanyInfo.status === 4,\"placeholder\":\"请输入业务员姓名\",\"left-icon\":\"contact\",\"required\":\"\",\"error-message\":_vm.errMsg.nameErrMsg},on:{\"blur\":function($event){return _vm.handleInputBlur('name')}},model:{value:(_vm.value.name),callback:function ($$v) {_vm.$set(_vm.value, \"name\", $$v)},expression:\"value.name\"}},[_c('span',{staticStyle:{\"color\":\"transparent\"},attrs:{\"slot\":\"button\"},slot:\"button\"},[_vm._v(\"1\")])])],1),_vm._v(\" \"),_c('van-cell-group',{staticClass:\"van-hairline--bottom\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"border\":false}},[_c('van-field',{attrs:{\"readonly\":_vm.$store.getters.oCompanyInfo.status === 1 || _vm.$store.getters.oCompanyInfo.status === 4,\"placeholder\":\"请输入业务员手机号\",\"left-icon\":\"phone-o\",\"required\":\"\",\"error-message\":_vm.errMsg.usernameErrMsg},on:{\"blur\":function($event){return _vm.handleInputBlur('username')}},model:{value:(_vm.value.username),callback:function ($$v) {_vm.$set(_vm.value, \"username\", $$v)},expression:\"value.username\"}},[_c('span',{staticStyle:{\"color\":\"transparent\"},attrs:{\"slot\":\"button\"},slot:\"button\"},[_vm._v(\"1\")])])],1)],1),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"employee-card__title employee-card__title--required\"},[_vm._v(\"附件添加\")]),_vm._v(\" \"),_c('span',{staticClass:\"employee-card__tips\"},[_vm._v(\"1.所在公司6个月社保证明（法人股东除外）\")]),_vm._v(\" \"),_c('span',{staticClass:\"employee-card__tips\"},[_vm._v(\"2.清晰的身份证正反面照片\")]),_vm._v(\" \"),_c('van-cell-group',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"border\":false}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('upload-picture',{staticStyle:{\"margin-right\":\"15px\"},attrs:{\"sPictureUrl\":_vm.value.socialSecurityPic,\"fSetPicturUrl\":_vm.setSocialSecurityPictureUrl,\"canUpload\":!(_vm.$store.getters.oCompanyInfo.status == 1 || _vm.$store.getters.oCompanyInfo.status == 4)}}),_vm._v(\" \"),_c('upload-picture',{staticStyle:{\"margin-right\":\"15px\"},attrs:{\"sPictureUrl\":_vm.value.cardFrontPic,\"fSetPicturUrl\":_vm.setCardFrontPictureUrl,\"canUpload\":!(_vm.$store.getters.oCompanyInfo.status == 1 || _vm.$store.getters.oCompanyInfo.status == 4)}}),_vm._v(\" \"),_c('upload-picture',{attrs:{\"sPictureUrl\":_vm.value.cardOppositePic,\"fSetPicturUrl\":_vm.setCardOppositePictureUrl,\"canUpload\":!(_vm.$store.getters.oCompanyInfo.status == 1 || _vm.$store.getters.oCompanyInfo.status == 4)}})],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5dab0f92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/SetEmployee/EmployeeCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5dab0f92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EmployeeCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EmployeeCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EmployeeCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5dab0f92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EmployeeCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5dab0f92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/SetEmployee/EmployeeCard.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\r\n.set-employee {\r\n  background: #F8F8F8;\r\n  margin-top: 46px;\r\n  overflow: auto;\r\n  &-add-employee {\r\n    height: 61px;\r\n    border-radius: 10px;\r\n    background: #FFF;\r\n    margin: 20px 10px 0 10px;\r\n    &__text {\r\n      color: #C7C7C7;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  &-btn {\r\n    padding: 0 15px 0 15px;\r\n    margin-top: 52px;\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"set-employee\">\r\n    <van-nav-bar title=\"修改业务员\" left-arrow @click-left=\"$router.push({name: 'setCompanyInfo'})\" fixed v-if=\"!$window.$storage.get('isReg')\" />\r\n    <van-nav-bar title=\"添加业务员\" right-text=\"跳过\" fixed @click-right=\"$router.push({name: 'chooseCert'})\" v-else />\r\n\r\n    <employee-card ref=\"employee-card\" v-for=\"(item, index) in employee\" :key=\"index\" v-model=\"employee[index]\" :index=\"index\" @del-card=\"handleDelCard\" />\r\n\r\n    <div class=\"set-employee-add-employee flex-center-xy\" v-if=\"employee.length == 1\" @click=\"addEmployee\">\r\n      <div class=\"set-employee-add-employee__text\">\r\n        <van-icon name=\"plus\" />\r\n        <span>\r\n          添加一位业务员\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"set-employee-btn change-button-background\">\r\n      <van-button size=\"large\" round type=\"primary\" @click=\"submit\" v-if=\"$store.getters.oCompanyInfo.status === 2 || $store.getters.oCompanyInfo.status === 3 || $window.$storage.get('isReg')\">提交</van-button>\r\n      <van-button size=\"large\" round type=\"primary\" @click=\"$router.push({name: 'companySetting'})\" v-if=\"$store.getters.oCompanyInfo.status === 1 || $store.getters.oCompanyInfo.status === 4\">返回</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EmployeeCard from './EmployeeCard';\r\n\r\nexport default {\r\n  name: 'SetEmployee',\r\n  components: {\r\n    EmployeeCard\r\n  },\r\n  created() {\r\n    if(!window.$storage.get('isReg')) {\r\n      this.getEmployee();\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      employee: [\r\n        {\r\n          name: '',\r\n          username: '',\r\n          socialSecurityPic: '',\r\n          cardFrontPic: '',\r\n          cardOppositePic: ''\r\n        }\r\n      ],\r\n      employeeInit: []\r\n    }\r\n  },\r\n  methods: {\r\n    getEmployee() {\r\n      this.$http({\r\n        url: '/employee/getEmployee',\r\n        method: 'GET'\r\n      }).then((res) => {\r\n        if(res && res.data.code == 0) {\r\n          this.employeeInit = JSON.parse(JSON.stringify(res.data.data));\r\n          this.employee = res.data.data || [\r\n            {\r\n              name: '',\r\n              username: '',\r\n              socialSecurityPic: '',\r\n              cardFrontPic: '',\r\n              cardOppositePic: ''\r\n            }\r\n          ];\r\n        }\r\n      });\r\n    },\r\n    submit() {\r\n      if(window.$underscore.isEqual(this.employeeInit, this.employee)) {\r\n        this.$router.push({name: 'companySetting'});\r\n        return;\r\n      }\r\n\r\n      let flag = true;\r\n      for(let i in this.employee) {\r\n        if(!this.$refs['employee-card'][i].validate()) {\r\n          flag = false;\r\n        }\r\n      }\r\n      if(flag) {\r\n        this.$http({\r\n          url: '/employee/editEmployee',\r\n          method: 'POST',\r\n          data: {\r\n            employee: this.employee\r\n          }\r\n        }).then((res) => {\r\n          if(res && res.data.code == 0) {\r\n            this.$toast.success('修改业务员成功');\r\n            if(window.$storage.get('isReg')) {\r\n              this.$router.push({name: 'chooseCert'});\r\n            }\r\n            else {\r\n              this.$router.push({name: 'companySetting'});\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    handleDelCard(index) {\r\n      if(this.employee.length != 1 && this.$store.getters.oCompanyInfo.status !== 1 && this.$store.getters.oCompanyInfo.status !== 4) {\r\n        this.employee.splice(index, 1);\r\n      }\r\n    },\r\n    addEmployee() {\r\n      if (this.$store.getters.oCompanyInfo.status !== 1 && this.$store.getters.oCompanyInfo.status !== 4) {\r\n        this.employee.push({\r\n          name: '',\r\n          username: '',\r\n          socialSecurityPic: '',\r\n          cardFrontPic: '',\r\n          cardOppositePic: ''\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/SetEmployee/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"set-employee\"},[(!_vm.$window.$storage.get('isReg'))?_c('van-nav-bar',{attrs:{\"title\":\"修改业务员\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.push({name: 'setCompanyInfo'})}}}):_c('van-nav-bar',{attrs:{\"title\":\"添加业务员\",\"right-text\":\"跳过\",\"fixed\":\"\"},on:{\"click-right\":function($event){return _vm.$router.push({name: 'chooseCert'})}}}),_vm._v(\" \"),_vm._l((_vm.employee),function(item,index){return _c('employee-card',{key:index,ref:\"employee-card\",refInFor:true,attrs:{\"index\":index},on:{\"del-card\":_vm.handleDelCard},model:{value:(_vm.employee[index]),callback:function ($$v) {_vm.$set(_vm.employee, index, $$v)},expression:\"employee[index]\"}})}),_vm._v(\" \"),(_vm.employee.length == 1)?_c('div',{staticClass:\"set-employee-add-employee flex-center-xy\",on:{\"click\":_vm.addEmployee}},[_c('div',{staticClass:\"set-employee-add-employee__text\"},[_c('van-icon',{attrs:{\"name\":\"plus\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n        添加一位业务员\\n      \")])],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"set-employee-btn change-button-background\"},[(_vm.$store.getters.oCompanyInfo.status === 2 || _vm.$store.getters.oCompanyInfo.status === 3 || _vm.$window.$storage.get('isReg'))?_c('van-button',{attrs:{\"size\":\"large\",\"round\":\"\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")]):_vm._e(),_vm._v(\" \"),(_vm.$store.getters.oCompanyInfo.status === 1 || _vm.$store.getters.oCompanyInfo.status === 4)?_c('van-button',{attrs:{\"size\":\"large\",\"round\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({name: 'companySetting'})}}},[_vm._v(\"返回\")]):_vm._e()],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60f58fd2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/SetEmployee/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60f58fd2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60f58fd2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60f58fd2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/SetEmployee/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}