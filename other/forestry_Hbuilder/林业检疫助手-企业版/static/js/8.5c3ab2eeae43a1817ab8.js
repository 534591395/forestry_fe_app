webpackJsonp([8],{"9EBn":function(t,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=r("BO1k"),e=r.n(i),c={name:"CertUpload",components:{UploadPicture:r("SJTH").a},data:function(){return{formData:{picture_url:[""],picture_location:[""],picture_time:[""]}}},methods:{submit:function(){var t=this;if(this.validate()){var a={picture_url:this.formData.picture_url.toString(),picture_location:this.formData.picture_location.toString(),picture_time:this.formData.picture_time.toString(),id:this.$route.query.id};this.$http({url:"/cert/addPlantCertPicture",method:"POST",data:a}).then(function(a){a&&0===a.data.code&&(t.$toast.success("上传车辆运输图片成功"),t.$router.push({name:"applyRecord"}))})}},validate:function(){var t=!0,a=!1,r=void 0;try{for(var i,c=e()(this.formData.picture_url);!(t=(i=c.next()).done);t=!0){if(""===i.value)return this.$toast("附件图片不能有为空的项"),!1}}catch(t){a=!0,r=t}finally{try{!t&&c.return&&c.return()}finally{if(a)throw r}}return!0},delItem:function(){this.formData.picture_url.length>1&&(this.formData.picture_url.splice(this.formData.picture_url.length-1,1),this.formData.picture_location.splice(this.formData.picture_location.length-1,1))},setNoticePictureUrl:function(t,a,r,i){this.$set(this.formData.picture_url,t,a),this.formData.picture_time[t]=r,this.formData.picture_location[t]=window.$storage.get("picture")[i]}}},s={render:function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"cert-upload"},[r("van-nav-bar",{attrs:{title:"上传车辆运输照片","left-arrow":"",fixed:""},on:{"click-left":function(a){t.$router.push("applyRecord")}}}),t._v(" "),r("div",{staticClass:"cert-upload-card"},[t._m(0),t._v(" "),r("div",{staticStyle:{"margin-left":"12px"}},[r("p",{staticClass:"title-pic",staticStyle:{margin:"0 0 22px 0","padding-top":"37px"}},[t._v("\n        附件图片\n        "),r("a",{staticClass:"add-btn",attrs:{href:"javascript: void(0);"},on:{click:function(a){t.formData.picture_url.push("")}}},[t._v("+新增")]),t._v(" "),r("a",{staticClass:"add-btn",attrs:{href:"javascript: void(0);"},on:{click:t.delItem}},[t._v("- 删除")])]),t._v(" "),r("van-cell-group",{staticClass:"van-hairline--bottom",staticStyle:{"padding-bottom":"26px"},attrs:{border:!1}},[r("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.formData.picture_url,function(a,i){return r("upload-picture",{key:i,staticStyle:{"margin-left":"10px","margin-bottom":"10px"},attrs:{index:i,uploadType:"cert",sPictureUrl:a,fSetPicturUrl:t.setNoticePictureUrl}})}),1)]),t._v(" "),r("p",{staticClass:"cert-upload-card__tips"},[t._v("请上传真实的装车照片，如发现虚假照片后果自负。同一车牌，24小时内不能重复提交")])],1)]),t._v(" "),r("div",{staticClass:"cert-upload__btn change-button-background"},[r("van-button",{attrs:{size:"large",round:"",type:"primary"},on:{click:t.submit}},[t._v("上传图片")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"cert-upload-card__header flex-center-y"},[a("img",{staticClass:"cert-upload-card__img",attrs:{src:r("mxBT"),alt:""}}),this._v(" "),a("div",{staticClass:"cert-upload-card__title"},[this._v("木材运输与植物检疫申请")])])}]};var o=r("VU/8")(c,s,!1,function(t){r("z/Zk")},"data-v-b9b69996",null);a.default=o.exports},"z/Zk":function(t,a){}});
//# sourceMappingURL=8.5c3ab2eeae43a1817ab8.js.map